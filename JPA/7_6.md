### 애플리케이션 아키텍처

![image](https://user-images.githubusercontent.com/24373728/177555491-fddc7f6f-21f4-473a-a215-d802f0c70604.png)

- 계층형 구조 사용
- controller, web: 웹 계층
- service: 비즈니스 로직, 트랜잭션 처리
- repository: JPA를 직접 사용하는 계층, 엔티티 매니저 사용
- domain: 엔티티가 모여 있는 계층, 모든 계층에서 사용

#### 개발 순서
- 서비스, 리포지토리 계층을 개발하고, TC를 작성해서 검증, 마지막에 웹 계층을 적용한다. 

#### JPA 문법
- EntityManager
- em.persist
- em.createQuery
- @RequiredArgsConstructor
- @PersistenceContext


#### 개발 팁
- 비즈니스 상황에 따라 다르지만, 보통 도메인 객체마다 리포지토리를 각각 따로 만든다.
- Spring에서 주입하는 방법 중 생성자 주입이 가장 좋다. 이를 사용하면 객체를 final로 만들 수도 있고, 이를 자동으로 지원해주는 어노테이션이 @AllArgsConstructor, @RequiredArgsConstructor 이다.
