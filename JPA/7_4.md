## 도메인 분석 설계

#### 가본 용어 정리
- 도메인: 일반적인 요구사항, 소프트웨어로 해결하고자 하는 문제 영역
- 도메인 모델: 특정 도메인을 개념적으로 표현한 것
- 테이블 설계 시 다대다 관계를 1대다 다대1 관계로 푸는게 좋고, 양방향 연관 관계도 단일 방향으로 바꾸는게 좋다. 

#### DDD(Domain Driven Development) 정의/특징
- DDD는, 도메인 패턴을 중심에 놓고 설계하는 방식을 일컫는다. 
- 도메인 그 자체와, 도메인 로직에 초점을 맞춘다. 데이터 중심의 접근법이 아닌, 도메인 모델과 로직에 집중하는 것을 말한다. 
- 보편적인(ubiquitous) 언어의 사용. 단일화된 언어체계를 구축하여 커뮤티케이션이 가능케 한다.
- 소프트웨어 엔티이와 모데인 컨셉트를 가능한 가장 가까이 일치시키는 것이다. 

#### 왜 DDD를 사용하는가? 
- 도메인 모델의 적용 범위를 구현까지 확장하여 도메인 지식을 구현 코드에 반영한다. 
- 각각의 도메인 별 구현을 하기 때문에 MSA를 적용하는데 용이하다!! 

#### 도메인 모델과 테이블 설계

![image](https://user-images.githubusercontent.com/24373728/177063150-95564f81-0691-44f7-888a-1c729ccc35a6.png)

- 일반적인 도메인 모델의 예시이다.
- 다대다 관계를 정확히 작성하고, 모델들의 관계를 파악하자.
- 도메인 모델을 가지고 실제 엔터티 분석을 진행한다. 

![image](https://user-images.githubusercontent.com/24373728/177063200-dca578d1-bd78-432e-9ed8-29d15d52c596.png)

- 도메인 모델을 각각의 엔티티로 만들어서 다시 표현한다. 
- 다대다 관계를 풀어낼 땐, 중간 테이블을 하나 만들어야 한다. 

![image](https://user-images.githubusercontent.com/24373728/177063672-888b3e36-9220-4887-bb62-7017e4404363.png)

- 카테고리 엔티티를 보면, 중간에 CATEGORY_ITEM 엔티티를 추가하여 다대다 관계를 1대다 다대1 관계로 바꾸었다.
- 참고, 엔티티를 설계할 때 기업마다 다르지만, 대문자/소문자 + _ (언더스코프)를 사용한다.
- 일관성 있게 엔티티를 작성하자. (소문자 + _ )
